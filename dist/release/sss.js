!function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n||e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var gokartProfile={name:"sss",version:"1.0.0",distributionType:"release",description:"Lite Spatial Support System v3",repositoryBranch:"master",lastCommit:"facf455",commitDate:"Tue May 1 09:44:12 2018 +0800",commitMessage:"Use the style 'public:latest_indicative_burn_program2.ShowPinpoint' for layer 'public:latest_indicative_burn_program2'",commitAuthor:"Rocky Chen <Rocky.Chen@dbca.wa.gov.au>",build:{datetime:"2018-05-01 12:43:47 AWST(+0800)",date:"2018-05-01 AWST(+0800)",time:"12-43-47 AWST(+0800)",platform:"Linux",host:"rockyc-XPS-13-9360",vendorMD5:"uJ1cxXUzALuvS1CqcJWy9w"}};exports.default=gokartProfile},{}],2:[function(require,module,exports){(function(global){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _sssProfile=(require("src/vendor.js"),require("./sss-profile.js")),_gokart=(_interopRequireDefault(_sssProfile),require("../gokart.js")),_gokart2=_interopRequireDefault(_gokart);global.gokart=_gokart2.default}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../gokart.js":7,"./sss-profile.js":1,"src/vendor.js":"src/vendor.js"}],3:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getCRS=void 0;var _vendor=require("src/vendor.js"),_CRS_MAP={"EPSG:4326":_vendor.L.CRS.EPSG4326,"EPSG:3857":_vendor.L.CRS.EPSG3857,"EPSG:3395":_vendor.L.CRS.EPSG3395},getCRS=function(crs){if((crs=(crs||"EPSG:4326").toUpperCase())in _CRS_MAP)return _CRS_MAP[crs];throw crs+" is not supported."};exports.getCRS=getCRS},{"src/vendor.js":"src/vendor.js"}],4:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.FeatureInfo=void 0;var _vendor=require("src/vendor.js"),FeatureInfo=(require("./layer.js"),function FeatureInfo(map,eventType){if(!map)throw"map is null";this._map=map;var vm=this;_vendor.$.each(gokartEnv.featureInfoPopup||{},function(key,value){vm["_"+key]=value}),this._options=_vendor.$.extend({},FeatureInfo.defaultOptions,this._options||{}),this._layer=null,this._eventType=eventType||"click",this._enabled=!1,this._feats=[],this._featsSize=0,this._featIndex=-1,this._popup=null,this._popupHtmlElement=null,this._options=_vendor.$.extend(FeatureInfo.defaultOptions,gokartEnv.featureInfoPopup&&gokartEnv.featureInfoPopup.options?gokartEnv.featureInfoPopup.options:{})});FeatureInfo.defaultOptions={autoPan:!0,closeButton:!0},FeatureInfo.prototype.enable=function(enable){var vm=this;if(this._showFeatureInfo=this._showFeatureInfo||function(ev){var url=null;if(vm._map.inMaxBounds(ev.latlng)){if("polygon"===vm._layer._geometryType&&(vm._layer._geometryColumn?url=(vm._layer.requireAuth()?gokartEnv.wfsService:gokartEnv.publicWfsService)+"/wfs?service=wfs&version=2.0&request=GetFeature&outputFormat=application%2Fjson&typeNames="+vm._layer.getId()+"&cql_filter=CONTAINS("+vm._layer._geometryColumn+",POINT("+ev.latlng.lat+" "+ev.latlng.lng+"))":1),!url){var topLeft=vm._map.getLMap().layerPointToLatLng([ev.layerPoint.x-10,ev.layerPoint.y-10]),bottomRight=vm._map.getLMap().layerPointToLatLng([ev.layerPoint.x+10,ev.layerPoint.y+10]),bbox="&bbox="+bottomRight[1]+","+topLeft[0]+","+topLeft[1]+","+bottomRight[0];url=(vm._layer.requireAuth()?gokartEnv.wfsService:gokartEnv.publicWfsService)+"/wfs?service=wfs&version=2.0&request=GetFeature&outputFormat=application%2Fjson&typeNames="+vm._layer.getId()+bbox}_vendor.$.ajax({url:url,dataType:"json",success:function(response,stat,xhr){if(!(response.totalFeatures<1)){var feat=response.features[0];if(null===vm._popupHtmlElement){var msg=null;msg="<div id='feature_info'><table>",msg+="<tbody>",vm._layer._featureInfo.properties?_vendor.$.each(vm._layer._featureInfo.properties,function(index,prop){prop.name in feat.properties&&(msg+="<tr><th>"+(prop.title||prop.name.camelize())+"</th><td id=featureinfo_"+prop.name+"></td></tr>")}):_vendor.$.each(feat.properties,function(k,v){["ogc_fid","md5_rowhash"].indexOf(k.toLowerCase())>=0||(msg+="<tr><th>"+k.camelize()+"</th><td id=featureinfo_"+k+"></td></tr>")}),msg+="</tbody>",msg+="<tfoot><tr id='featureinfo_feature_navigator'><td colspan='2'>",msg+="<img id='featureinfo_navigator_previous' class='featureinfo_navigator_button' src='"+gokartEnv.gokartService+"/dist/static/images/previous.svg'> <span id='featureinfo_current_index'></span>/<span id='featureinfo_size'></span> <img id='featureinfo_navigator_next' class='featureinfo_navigator_button' src='"+gokartEnv.gokartService+"/dist/static/images/next.svg'>",msg+="</td></tr></tfoot>",msg+="</table></div>",vm._popupHtmlElement=(0,_vendor.$)(_vendor.$.parseHTML(msg)),vm._popupHtmlElement.find("#featureinfo_navigator_previous").on("click",function(ev){ev.stopPropagation(),vm._featIndex<=0?vm.selectFeature(vm._featsSize-1):vm.selectFeature(vm._featIndex-1)}),vm._popupHtmlElement.find("#featureinfo_navigator_next").on("click",function(ev){ev.stopPropagation(),vm._featIndex>=vm._featsSize?vm.selectFeature(0):vm.selectFeature(vm._featIndex+1)}),vm._popup.setContent(vm._popupHtmlElement.get(0))}_vendor.$.each(response.features,function(index,feat){if(index>=vm._feats.length&&vm._feats.push({properties:{}}),vm._layer._featureInfo.properties?_vendor.$.each(vm._layer._featureInfo.properties,function(index2,prop){if(null===feat.properties[prop.name]||void 0===feat.properties[prop.name])vm._feats[index].properties[prop.name]=null;else{var value=feat.properties[prop.name];try{"precision"in prop&&(value=parseFloat(value).toFixed(parseInt(prop.precision)))}catch(ex){}vm._feats[index].properties[prop.name]=value}}):_vendor.$.each(feat.properties,function(k,v){vm._feats[index].properties[k]=null===v||void 0===v?null:v}),vm._layer._featureInfo.highlight&&["polygon","multipolygon"].indexOf(feat.geometry.type.toLowerCase())>=0&&(vm._feats[index].geometry?vm._feats[index].geometry.setLatLngs(_vendor.L.GeoJSON.coordsToLatLngs(feat.geometry.coordinates,2)):vm._feats[index].geometry=_vendor.L.polygon(_vendor.L.GeoJSON.coordsToLatLngs(feat.geometry.coordinates,2),vm._layer._featureInfo.style||{})),"event"===vm._layer._featureInfo.position)vm._feats[index].position=ev.latlng;else{vm._getPosition=vm._getPosition||function(latlngs,position,referenceLatlng){var point=null;return _vendor.$.each(latlngs,function(i,latlng){if(Array.isArray(latlng)&&(latlng=vm._getPosition(latlng,position)),null===point)point=latlng;else if("north"===position)point.lat<latlng.lat&&(point=latlng);else{if("south"!==position)throw"Position '"+position+"' does not support.";point.lat>latlng.lat&&(point=latlng)}}),point},vm._feats[index].position=vm._getPosition(vm._feats[index].geometry.getLatLngs(),"north")||ev.latlng}}),vm._featsSize=response.features.length,vm._featsSize<2?vm._popupHtmlElement.find("#featureinfo_feature_navigator").hide():vm._popupHtmlElement.find("#featureinfo_feature_navigator").show(),vm.selectFeature(0)}},error:function(xhr,status,message){vm.warning=!0,alert(xhr.status+" : "+(xhr.responseText||message))},xhrFields:{withCredentials:!0}})}},enable&&!this._enabled){if(!this._layer)throw"Layer is null";this._map.getMapElement().css("cursor","pointer"),this._map.getLMap().on(this._eventType,this._showFeatureInfo),this._enabled=!0}else!enable&&this._enabled&&(this._map.getMapElement().css("cursor",""),this._map.getLMap().off(this._eventType,this._showFeatureInfo),this._enabled=!1)},FeatureInfo.prototype.setLayer=function(layer){if(layer){if(this._layer===layer)return void this.enable(!0);if(this._layer&&this.clear(),this._layer=layer,this._layer._featureInfo=this._layer._featureInfo||{},!this._layer._featureInfo.initialized&&(this._layer._featureInfo.initialized=!0,this._layer._featureInfo.cache=this._layer._featureInfo.cache||!1,this._layer._featureInfo.position=this._layer._featureInfo.position||"event",this._layer._featureInfo.properties))for(var index=0;index<this._layer._featureInfo.properties.length;index++)"string"==typeof this._layer._featureInfo.properties[index]&&(this._layer._featureInfo.properties[index]={name:this._layer._featureInfo.properties[index]});this._popupHtmlElement&&(this._popupHtmlElement.find("#featureinfo_navigator_previous").off("click"),this._popupHtmlElement.find("#featureinfo_navigator_next").off("click"),this._popupHtmlElement=null);var options=_vendor.$.extend({},this._options),vm=this;this._layer._featureInfo.buttons&&(options.buttons=[],this._layer._featureInfo.buttons.indexOf("clear")>=0&&this._layer._featureInfo.cache&&options.buttons.push([gokartEnv.gokartService+"/dist/static/images/clear.svg",function(ev){ev.stopPropagation(),vm.clear()}])),this._popup=_vendor.L.popup(options),this._feats.length=0,this._featsSize=0,this._featIndex=-1,this.enable(!0)}else this.enable(!1)},FeatureInfo.prototype.clear=function(){this._layer._featureInfo.highlight?this._featIndex>=0&&(this._feats[this._featIndex].geometry.closePopup(),this._feats[this._featIndex].geometry.unbindPopup(),this._feats[this._featIndex].geometry.remove()):this._popup.isOpen()&&this._popup.remove(),this._featIndex=-1,this._featsSize=0},FeatureInfo.prototype.selectFeature=function(index){if((index<0||index>=this._featsSize)&&(index=0),this._popupHtmlElement){var vm=this;_vendor.$.each(this._feats[index].properties,function(k,v){vm._popupHtmlElement.find("#featureinfo_"+k).text(null===v?"":v)}),this._featsSize>1&&(vm._popupHtmlElement.find("#featureinfo_size").text(this._featsSize),vm._popupHtmlElement.find("#featureinfo_current_index").text(index+1)),index===this._featIndex?this._layer._featureInfo.highlight&&this._layer._featureInfo.cache?this._feats[index].geometry.openPopup(this._feats[index].position):(this._popup.setLatLng(this._feats[index].position),this._popup.isOpen()||this._popup.openOn(this._map.getLMap())):(this._layer._featureInfo.highlight?(this._featIndex>=0&&(this._layer._featureInfo.cache&&this._feats[this._featIndex].geometry.unbindPopup(),this._feats[this._featIndex].geometry.remove()),this._feats[index].geometry.addTo(this._map.getLMap()),this._layer._featureInfo.cache?(this._feats[index].geometry.bindPopup(this._popup),this._feats[index].geometry.openPopup(this._feats[index].position)):(this._popup.setLatLng(this._feats[index].position),this._popup.isOpen()||this._popup.openOn(this._map.getLMap()))):(this._popup.setLatLng(this._feats[index].position),this._popup.isOpen()||this._popup.openOn(this._map.getLMap())),this._featIndex=index)}},exports.FeatureInfo=FeatureInfo},{"./layer.js":5,"src/vendor.js":"src/vendor.js"}],5:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Layer=void 0;var _vendor=require("src/vendor.js"),_crs=require("./crs.js"),_Layers={},Layer=function Layer(layer){if(layer.id in _Layers)throw"The layer '"+layer.id+"' already exist.";if(this.constructor===Layer)throw"Can't create a instance of a abstract class";var vm=this;_vendor.$.each(layer,function(key,value){vm["_"+key]=value}),this._options=this._options||{},_vendor.$.each(this.defaultOptions,function(key,value){key in vm._options||(vm._options[key]=value)}),this._mapLayer=null,this._map=null,_Layers[this._id]=this};Layer.baselayer=null,Layer.toplayer=null,Layer.getLayer=function(layer){if("string"==typeof layer){if(layer,!(layer in _Layers))throw"The layer '"+layer+"' is not found";layer=_Layers[layer]}else if(layer instanceof Layer)layer=layer;else if(layer.id,layer.serviceType=layer.serviceType||"WMTS","WMS"===layer.serviceType)layer=new WMSTileLayer(layer);else{if("WMTS"!==layer.serviceType)throw layer.serviceType+" not supported.";layer=new TileLayer(layer)}return layer},Layer.loadLayers=function(map){gokartEnv.cswApp=(gokartEnv.cswApp||gokartEnv.app).toLowerCase();var processLayers=function(layers){var zIndex=2;_vendor.$.each(gokartEnv.layers||[],function(index,l){var layer=layers.find(function(o){return o.id===l.id});layer?_vendor.$.extend(layer,l):(layers.push(l),layer=l),layer.options=layer.options||{},"baselayer"===layer.layerType?layer.options.zIndex=1:"toplayer"===layer.layerType?layer.options.zIndex=1e3:layer.options.zIndex&&layer.options.zIndex>=300&&layer.options.zIndex<1e3||(layer.options.zIndex=zIndex,zIndex+=1)}),_vendor.$.each(layers,function(index,l){"baselayer"===l.layerType?l.options.opacity=1:"overlayer"===l.layerType?null!==l.options.opacity&&void 0!==l.options.opacity||(l.options.opacity=.5):null!==l.options.opacity&&void 0!==l.options.opacity||(l.options.opacity=.8),l.requireAuth=!l.id.startsWith("public:")});var baselayers={},overlayers={},baselayerCount=0,overlayerCount=0;_vendor.$.each(layers,function(index,l){if(l.requireAuth){if(!map.isAuthenticated())return}else if(map.isAuthenticated()&&l.disable4AuthedUser)return;try{l=Layer.getLayer(l)}catch(ex){return console.error(ex),void alert(ex)}l.isBaselayer()?(null===Layer.baselayer&&l.setMap(map),baselayers[l._title||l._id]=l.getMapLayer(),baselayerCount+=1):l.isToplayer()&&null===Layer.toplayer?l.setMap(map):l.isOverlayer()&&(l.setMap(map),overlayers[l._title||l._id]=l.getMapLayer(),overlayerCount+=1)}),(baselayerCount>1||overlayerCount>0)&&_vendor.L.control.layers(baselayerCount>1?baselayers:null,overlayerCount>0?overlayers:null).addTo(map.getLMap())};if(map.isAuthenticated()){var req=new window.XMLHttpRequest;req.withCredentials=!0,req.onload=function(){var layers=[];JSON.parse(this.responseText).forEach(function(l){l.tags.some(function(t){return"basemap"===t.name})?l.layerType="baselayer":l.layerType="overlayer",l.serviceType="WMTS",layers.push(l)}),processLayers(layers)},req.onerror=function(ev){var msg="Couldn't load layer catalogue!"+(req.statusText?" ("+req.statusText+")":"");console.error(msg),alert(msg)},req.open("GET",gokartEnv.cswService+"?format=json&application__name="+gokartEnv.cswApp),req.send()}else processLayers([])},Layer.prototype._create=function(){throw"Not implemented"},Layer.prototype.getId=function(){return this._id},Layer.prototype.getMapLayer=function(){return this._mapLayer||this._create(),this._mapLayer},Layer.prototype.requireAuth=function(){return this._requireAuth},Layer.prototype.isBaselayer=function(){return"baselayer"===this._layerType},Layer.prototype.isOverlayer=function(){return"overlayer"===this._layerType},Layer.prototype.isToplayer=function(){return"toplayer"===this._layerType},Layer.prototype.setMap=function(map){if(map){if(this._map&&this._map)return;this._mapLayer||this._create(),this.isBaselayer()&&Layer.baselayer?layer.baselayer.setMap(null):this.isToplayer()&&Layer.toplayer&&layer.toplayer.setMap(null),this._mapLayer.addTo(map.getLMap()),this._map=map,this.isBaselayer()?Layer.baselayer=this:this.isToplayer()&&(Layer.toplayer=this,this._map.featureInfo.setLayer(this))}else this._map&&(this._mapLayer.remove(),Layer.baselayer===this?Layer.baselayer=null:Layer.toplayer===this&&(Layer.toplayer=null,this._map.featureInfo.setLayer(null)),this._map=null)};var WMSTileLayer=function(layer){Layer.call(this,layer),"crs"in this._options&&"string"==typeof this._options.crs&&(this._options.crs=(0,_crs.getCRS)(this._options.crs)),this._options.layers=this._id};WMSTileLayer.prototype=Object.create(Layer.prototype),WMSTileLayer.prototype.constructor=WMSTileLayer,WMSTileLayer.prototype.defaultOptions={crossOrigin:!0,styles:"",format:"image/png",transparent:!0,version:"1.1.1",crs:_vendor.L.CRS.EPSG4326,tileSize:256,opacity:1,updateWhenIdle:!0,updateWhenZooming:!0,updateInterval:200,keepBuffer:4},WMSTileLayer.prototype._create=function(){this._mapLayer||(this._mapLayer=_vendor.L.tileLayer.wms(this.requireAuth()?gokartEnv.wmsService:gokartEnv.publicWmsService,this._options))};var TileLayer=function(layer){Layer.call(this,layer),this._tileUrl=(this.requireAuth()?gokartEnv.wmtsService:gokartEnv.publicWmtsService)+"?layer="+this._id+"&style="+this._options.style+"&tilematrixset="+this._options.tilematrixset+"&Service=WMTS&Request=GetTile&Version=1.0.0&Format="+this._options.format+"&TileMatrix="+this._options.tilematrixset+":{z}&TileCol={x}&TileRow={y}"};TileLayer.prototype=Object.create(Layer.prototype),TileLayer.prototype.constructor=TileLayer,TileLayer.prototype.defaultOptions={crossOrigin:!0,style:"",tilematrixset:"gda94",format:"image/png",Version:"1.0.0",transparent:!0,version:"1.1.1",opacity:1,tileSize:1024},TileLayer.prototype._create=function(){this._mapLayer||(this._mapLayer=_vendor.L.tileLayer(this._tileUrl,this._options))},exports.Layer=Layer},{"./crs.js":3,"src/vendor.js":"src/vendor.js"}],6:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _vendor=require("src/vendor.js"),_layer=require("./layer.js"),_crs=require("./crs.js"),_interactions=require("./interactions.js"),Map=function(mapid,user){this._user=user||{authenticated:!1},this._mapid=mapid,this._mapElement=(0,_vendor.$)("#"+mapid),this._options=gokartEnv.map||{},"crs"in this._options&&"string"==typeof this._options.crs&&(this._options.crs=(0,_crs.getCRS)(this._options.crs));var vm=this;_vendor.$.each(["bounds","maxBounds"],function(index,key){key in vm._options&&Array.isArray(vm._options[key])&&(vm._options[key]=_vendor.L.latLngBounds(_vendor.L.latLng(vm._options[key][0][0],vm._options[key][0][1]),_vendor.L.latLng(vm._options[key][1][0],vm._options[key][1][1])))}),this._map=null,this._embeded=new URL(gokartEnv.gokartService).host!==document.location.host,this._create()};Map.prototype.setOption=function(key,value,enforce){if("crs"===key&&"string"==typeof value)value=(0,_crs.getCRS)(value);else if("maxBounds"===key&&Array.isArray(value))value=_vendor.L.latLngBounds(_vendor.L.latLng(value[0],_vendor.L.latLng(value[1])));else if("fullpageControl"===key){if(!this._embeded)return}else if(!enforce&&this._options[key]===value)return;this._options[key]=value,this._map&&("center"===key?this._map.setView(value):"zoom"===key?this._map.setZoom(value):"zoomControl"===key?value?(this.zoomControl||(this.zoomControl=_vendor.L.control.zoom(_vendor.$.extend({position:"topleft"},gokartEnv.zoomControl&&gokartEnv.zoomControl.options?gokartEnv.zoomControl.options:{}))),this.zoomControl._map||this.zoomControl.addTo(this._map)):this.zoomControl&&this.zoomControl._map&&this.zoomControl.remove():"attributionControl"===key?value?(this.attributionControl||(this.attributionControl=_vendor.L.control.attribution(_vendor.$.extend({position:"bottomright"},gokartEnv.attributionControl&&gokartEnv.attributionControl.options?gokartEnv.attributionControl.options:{}))),this.attributionControl._map||this.attributionControl.addTo(this._map)):this.attributionControl&&this.attributionControl._map&&this.attributionControl.remove():"scaleControl"===key?value?(this.scaleControl||(this.scaleControl=_vendor.L.control.scale(_vendor.$.extend({position:"bottomleft"},gokartEnv.scaleControl&&gokartEnv.scaleControl.options?gokartEnv.scaleControl.options:{}))),this.scaleControl._map||this.scaleControl.addTo(this._map)):this.scaleControl&&this.scaleControl._map&&this.scaleControl.remove():"fullpageControl"===key&&(value?(this.fullpageControl||(this.fullpageControl=_vendor.L.control.fullpage()),this.fullpageControl._map||this.fullpageControl.addTo(this._map)):this.fullpageControl&&this.fullpageControl._map&&this.fullpageControl.remove()))},Map.prototype.getLMap=function(){return this._map},Map.prototype.getMapElement=function(){return this._mapElement},Map.prototype.inMaxBounds=function(latlng){return!this._options.maxBounds||this._options.maxBounds.contains(latlng)},Map.prototype.setSize=function(width,height){this._map.setSize(width,height)},Map.prototype.isAuthenticated=function(){return this._user.authenticated},Map.prototype._create=function(){if(!this._map){this._map=_vendor.L.map(this._mapid,_vendor.$.extend({},this._options,{zoomControl:!1,attributionControl:!1,scaleControl:!1,fullpageControl:!1})),this._options.bounds&&this._map.fitBounds(this._options.bounds);var vm=this;_vendor.$.each(["zoomControl","attributionControl","scaleControl","fullpageControl"],function(index,key){vm.setOption(key,vm._options[key]||!1,!0)}),this.featureInfo=new _interactions.FeatureInfo(this),_layer.Layer.loadLayers(this)}},exports.default=Map},{"./crs.js":3,"./interactions.js":4,"./layer.js":5,"src/vendor.js":"src/vendor.js"}],7:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _map=require("./components/map.js"),_map2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_map),_crs=require("./components/crs.js"),_layer=require("./components/layer.js"),_vendor=require("src/vendor.js"),gokart={};gokart.Map=_map2.default,gokart.Layer=_layer.Layer,gokart.getCRS=_crs.getCRS,"undefined"!=typeof gokartOptions&&(gokartEnv=_vendor.utils.extend(gokartEnv,gokartOptions)),gokart.initialize=function(mapId){$.each([["publicWmtsService","wmtsService"],["publicWmsService","wmsService"],["publicWfsService","wfsService"]],function(index,config){gokartEnv[config[0]]||(gokartEnv[config[0]]=gokartEnv[config[1]])}),$.ajax({url:gokartEnv.whoamiUrl,method:"GET",dataType:"json",success:function(response,stat,xhr){gokart.user=response,gokart.user.authenticated=!!gokart.user.session_key,gokart.map=new gokart.Map(mapId,gokart.user)},error:function(xhr,status,message){gokart.user={authenticated:!1},gokart.map=new gokart.Map(mapId,gokart.user)},xhrFields:{withCredentials:!0}})},exports.default=gokart},{"./components/crs.js":3,"./components/layer.js":5,"./components/map.js":6,"src/vendor.js":"src/vendor.js"}]},{},[2]);
